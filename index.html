<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Jogo Clicker Avançado</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      font-family: Arial, sans-serif;
      background-color: #f0f0f0;
      user-select: none;
    }

    .game-container {
      width: 90%;
      max-width: 800px;
      margin: 20px auto;
      text-align: center;
    }

    .progress-container {
      width: 100%;
      height: 30px;
      background-color: #e0e0e0;
      border-radius: 15px;
      margin: 20px 0;
      overflow: hidden;
    }

    .progress-bar {
      height: 100%;
      background-color: #4CAF50;
      width: 0%;
      transition: width 0.2s;
      border-radius: 15px;
    }

    .stats {
      display: flex;
      justify-content: space-between;
      margin-bottom: 20px;
      flex-wrap: wrap;
    }

    .stat-box {
      background-color: #fff;
      padding: 10px 20px;
      border-radius: 10px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      flex: 1;
      min-width: 100px;
      margin: 5px;
    }

    .click-area {
      width: 100%;
      height: 200px;
      background-color: #fff;
      border-radius: 10px;
      display: flex;
      justify-content: center;
      align-items: center;
      cursor: pointer;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
      transition: transform 0.1s;
      margin-bottom: 20px;
    }

    .click-area:active {
      transform: scale(0.98);
      background-color: #f8f8f8;
    }

    h1 {
      color: #333;
    }

    .level-up {
      animation: pulse 1s;
    }

    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }

    .game-sections {
      display: flex;
      gap: 20px;
      justify-content: space-between;
      flex-wrap: wrap;
    }

    .section {
      flex: 1;
      min-width: 300px;
      background-color: #fff;
      border-radius: 10px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      padding: 15px;
      margin-bottom: 20px;
    }

    .upgrade-item, .achievement-item {
      background-color: #f9f9f9;
      border-radius: 8px;
      padding: 10px;
      margin: 10px 0;
      display: flex;
      justify-content: space-between;
      align-items: center;
      transition: background-color 0.2s;
    }

    .upgrade-item:hover {
      background-color: #f0f0f0;
    }

    .upgrade-item.disabled {
      opacity: 0.7;
      cursor: not-allowed;
    }

    .buy-button {
      background-color: #4CAF50;
      color: white;
      border: none;
      padding: 5px 10px;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color 0.2s;
    }

    .buy-button:hover {
      background-color: #45a049;
    }

    .buy-button:disabled {
      background-color: #cccccc;
      cursor: not-allowed;
    }

    .achievement-item.unlocked {
      background-color: #e7f7e7;
      border-left: 4px solid #4CAF50;
    }

    .achievement-item.locked {
      background-color: #f0f0f0;
      border-left: 4px solid #cccccc;
      color: #777;
    }

    .upgrade-info, .achievement-info {
      text-align: left;
    }
    
    .upgrade-level {
      font-size: 0.8em;
      color: #666;
    }
    
    .notification {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background-color: #4CAF50;
      color: white;
      padding: 15px;
      border-radius: 5px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.2);
      opacity: 0;
      transition: opacity 0.3s;
    }
    
    .notification.show {
      opacity: 1;
    }
  </style>
</head>
<body>
  <div class="game-container">
    <h1>Clicker Master</h1>
    
    <div class="stats">
      <div class="stat-box">
        <h3>Nível</h3>
        <div id="level">1</div>
      </div>
      <div class="stat-box">
        <h3>Cliques</h3>
        <div id="clicks">0</div>
      </div>
      <div class="stat-box">
        <h3>Meta</h3>
        <div id="target">10</div>
      </div>
      <div class="stat-box">
        <h3>Moedas</h3>
        <div id="coins">0</div>
      </div>
      <div class="stat-box">
        <h3>Poder de Clique</h3>
        <div id="click-power">1</div>
      </div>
    </div>
    
    <div class="progress-container">
      <div class="progress-bar" id="progress-bar"></div>
    </div>
    
    <div class="click-area" id="click-area">
      Clique aqui!
    </div>
    
    <div class="game-sections">
      <div class="section">
        <h2>Upgrades</h2>
        <div id="upgrades-container">
          <!-- Upgrades will be added here dynamically -->
        </div>
      </div>
      
      <div class="section">
        <h2>Objetivos</h2>
        <div id="achievements-container">
          <!-- Achievements will be added here dynamically -->
        </div>
      </div>
    </div>
  </div>
  
  <div class="notification" id="notification"></div>

  <script>
    // Game state
    let clicks = 0;
    let level = 1;
    let targetClicks = 10; // Initial requirement
    let coins = 0;
    let clickPower = 1;
    
    // DOM elements
    const progressBar = document.getElementById('progress-bar');
    const clicksDisplay = document.getElementById('clicks');
    const levelDisplay = document.getElementById('level');
    const targetDisplay = document.getElementById('target');
    const coinsDisplay = document.getElementById('coins');
    const clickPowerDisplay = document.getElementById('click-power');
    const clickArea = document.getElementById('click-area');
    const gameContainer = document.querySelector('.game-container');
    const upgradesContainer = document.getElementById('upgrades-container');
    const achievementsContainer = document.getElementById('achievements-container');
    const notification = document.getElementById('notification');
    
    // Upgrades definition
    const upgrades = [
      {
        id: 'click-power',
        name: 'Poder de Clique',
        description: 'Aumenta o valor de cada clique',
        basePrice: 10,
        level: 0,
        maxLevel: 10,
        effect: level => level + 1,
        priceIncrease: 1.5
      },
      {
        id: 'auto-clicker',
        name: 'Auto Clicker',
        description: 'Clica automaticamente a cada segundo',
        basePrice: 50,
        level: 0,
        maxLevel: 5,
        effect: level => level,
        priceIncrease: 2
      },
      {
        id: 'coin-boost',
        name: 'Boost de Moedas',
        description: 'Aumenta as moedas ganhas por nível',
        basePrice: 30,
        level: 0,
        maxLevel: 5,
        effect: level => 1 + level * 0.2, // 20% increase per level
        priceIncrease: 1.8
      },
      {
        id: 'progress-boost',
        name: 'Boost de Progresso',
        description: 'Reduz o aumento da dificuldade entre níveis',
        basePrice: 100,
        level: 0,
        maxLevel: 3,
        effect: level => 1.25 - (level * 0.05), // Reduces from 1.25 to 1.10
        priceIncrease: 2.5
      }
    ];
    
    // Achievements definition
    const achievements = [
      {
        id: 'first-level',
        name: 'Primeiro Nível',
        description: 'Complete o nível 1',
        unlocked: false,
        requirement: () => level > 1,
        reward: 5
      },
      {
        id: 'level-5',
        name: 'Persistente',
        description: 'Alcance o nível 5',
        unlocked: false,
        requirement: () => level >= 5,
        reward: 20
      },
      {
        id: 'level-10',
        name: 'Dedicado',
        description: 'Alcance o nível 10',
        unlocked: false,
        requirement: () => level >= 10,
        reward: 50
      },
      {
        id: 'level-25',
        name: 'Mestre Clicker',
        description: 'Alcance o nível 25',
        unlocked: false,
        requirement: () => level >= 25,
        reward: 150
      },
      {
        id: 'coins-100',
        name: 'Colecionador',
        description: 'Acumule 100 moedas',
        unlocked: false,
        requirement: () => coins >= 100,
        reward: 10
      },
      {
        id: 'upgrade-max',
        name: 'Aprimorado',
        description: 'Maximize um upgrade',
        unlocked: false,
        requirement: () => upgrades.some(upgrade => upgrade.level >= upgrade.maxLevel),
        reward: 75
      }
    ];
    
    // Initialize game
    function initGame() {
      updateDisplays();
      renderUpgrades();
      renderAchievements();
      
      // Add click events
      document.body.addEventListener('click', handleClick);
      
      // Start auto-clicker timer
      setInterval(runAutoClicker, 1000);
      
      // Start achievement check timer
      setInterval(checkAchievements, 2000);
    }
    
    // Handle click
    function handleClick(event) {
      clicks += clickPower;
      updateProgressBar();
      updateDisplays();
      
      // Check if target reached
      if (clicks >= targetClicks) {
        levelUp();
      }
    }
    
    // Update progress bar
    function updateProgressBar() {
      const progress = (clicks / targetClicks) * 100;
      progressBar.style.width = `${Math.min(100, progress)}%`;
    }
    
    // Update display elements
    function updateDisplays() {
      clicksDisplay.textContent = Math.floor(clicks);
      levelDisplay.textContent = level;
      targetDisplay.textContent = Math.ceil(targetClicks);
      coinsDisplay.textContent = Math.floor(coins);
      clickPowerDisplay.textContent = clickPower;
    }
    
    // Level up
    function levelUp() {
      level++;
      
      // Apply visual effect
      gameContainer.classList.add('level-up');
      setTimeout(() => {
        gameContainer.classList.remove('level-up');
      }, 1000);
      
      // Award coins
      const coinBoost = getUpgradeEffect('coin-boost');
      const coinsAwarded = Math.round(level * 5 * coinBoost);
      coins += coinsAwarded;
      
      // Show notification
      showNotification(`Nível ${level} alcançado! +${coinsAwarded} moedas`);
      
      // Reset clicks
      clicks = 0;
      
      // Increase target with potential reduction from progress-boost
      const difficultyCurve = getUpgradeEffect('progress-boost');
      targetClicks = Math.ceil(targetClicks * difficultyCurve);
      
      // Update displays
      updateProgressBar();
      updateDisplays();
      renderUpgrades(); // Re-render upgrades in case any have new availability
      
      // Check achievements after level up
      checkAchievements();
    }
    
    // Render upgrades
    function renderUpgrades() {
      upgradesContainer.innerHTML = '';
      
      upgrades.forEach(upgrade => {
        const price = getUpgradePrice(upgrade);
        const canAfford = coins >= price;
        const maxedOut = upgrade.level >= upgrade.maxLevel;
        
        const upgradeElement = document.createElement('div');
        upgradeElement.className = `upgrade-item ${(!canAfford || maxedOut) ? 'disabled' : ''}`;
        
        upgradeElement.innerHTML = `
          <div class="upgrade-info">
            <div><strong>${upgrade.name}</strong> <span class="upgrade-level">(Nível ${upgrade.level}/${upgrade.maxLevel})</span></div>
            <div>${upgrade.description}</div>
          </div>
          <button class="buy-button" ${(!canAfford || maxedOut) ? 'disabled' : ''}>${maxedOut ? 'MAX' : price + ' 🪙'}</button>
        `;
        
        // Add click event only if not maxed and can afford
        if (!maxedOut && canAfford) {
          upgradeElement.querySelector('.buy-button').addEventListener('click', (e) => {
            e.stopPropagation(); // Prevent triggering the global click
            buyUpgrade(upgrade.id);
          });
        }
        
        upgradesContainer.appendChild(upgradeElement);
      });
    }
    
    // Render achievements
    function renderAchievements() {
      achievementsContainer.innerHTML = '';
      
      achievements.forEach(achievement => {
        const achievementElement = document.createElement('div');
        achievementElement.className = `achievement-item ${achievement.unlocked ? 'unlocked' : 'locked'}`;
        
        achievementElement.innerHTML = `
          <div class="achievement-info">
            <div><strong>${achievement.name}</strong></div>
            <div>${achievement.description}</div>
            <div>${achievement.unlocked ? 'Concluído ✓' : `Recompensa: ${achievement.reward} 🪙`}</div>
          </div>
        `;
        
        achievementsContainer.appendChild(achievementElement);
      });
    }
    
    // Buy upgrade
    function buyUpgrade(upgradeId) {
      const upgrade = upgrades.find(u => u.id === upgradeId);
      
      if (!upgrade) return;
      
      const price = getUpgradePrice(upgrade);
      
      if (coins >= price && upgrade.level < upgrade.maxLevel) {
        coins -= price;
        upgrade.level++;
        
        // Apply upgrades effects
        if (upgradeId === 'click-power') {
          clickPower = getUpgradeEffect('click-power');
        }
        
        // Show notification
        showNotification(`Upgrade de ${upgrade.name} comprado!`);
        
        // Update displays
        updateDisplays();
        renderUpgrades();
        
        // Check for achievement
        if (upgrade.level >= upgrade.maxLevel) {
          checkAchievements();
        }
      }
    }
    
    // Get upgrade price based on level
    function getUpgradePrice(upgrade) {
      return Math.ceil(upgrade.basePrice * Math.pow(upgrade.priceIncrease, upgrade.level));
    }
    
    // Get upgrade effect based on level
    function getUpgradeEffect(upgradeId) {
      const upgrade = upgrades.find(u => u.id === upgradeId);
      if (!upgrade) return 1; // Default multiplier if not found
      
      return upgrade.effect(upgrade.level);
    }
    
    // Run auto-clicker
    function runAutoClicker() {
      const autoClickPower = getUpgradeEffect('auto-clicker');
      if (autoClickPower > 0) {
        clicks += autoClickPower * clickPower;
        updateProgressBar();
        updateDisplays();
        
        // Check if target reached
        if (clicks >= targetClicks) {
          levelUp();
        }
      }
    }
    
    // Check achievements
    function checkAchievements() {
      let newUnlocks = false;
      
      achievements.forEach(achievement => {
        if (!achievement.unlocked && achievement.requirement()) {
          achievement.unlocked = true;
          coins += achievement.reward;
          showNotification(`Objetivo alcançado: ${achievement.name}! +${achievement.reward} 🪙`);
          newUnlocks = true;
        }
      });
      
      if (newUnlocks) {
        renderAchievements();
        renderUpgrades(); // Re-render in case new coins enable purchases
        updateDisplays();
      }
    }
    
    // Show notification
    function showNotification(message) {
      notification.textContent = message;
      notification.classList.add('show');
      
      setTimeout(() => {
        notification.classList.remove('show');
      }, 3000);
    }
    
    // Initialize the game
    initGame();
  </script>
</body>
</html>
